# 更新日志

![Chinese](../resources/chinesec.svg) [![English](../resources/english.svg)](https://www.v2ray.com/en/welcome/versions.html)

## 2018.05.25 v3.23

* JSON 配置文件中，端口支持从环境变量加载。

## 2018.04.20 v3.19

* 传入代理的流量统计。

## 2018.04.13 v3.17

* V2Ray 可直接加载来自 HTTP(s) 的配置文件。
* V2Ray 的 TLS 可使用 CA 证书自动为任意域名签发新的证书。
* [HTTP/2](../chapter_02/transport/h2.md) 传输方式。

## 2018.04.06 v3.16

* [统计信息](../chapter_02/stats.md)。开启方式略麻烦，请仔细看文档。
* Shadowsocks 传入协议现在可以只监听 UDP 端口而不监听 TCP 了。强烈建议不在同一端口上同时监听 TCP 和 UDP。

## 2018.03.02 v3.11

* VMess Inbound 提供了一个选项，用于禁止客户端使用不安全的加密方式。
* 提供了 ARMv7 编译版。
* 提供了不要求 FPU 的 MIPS 编译版。

## 2018.02.23 v3.10

* 日志格式修改，每条日志前添加了 Session ID，用于区分不同的代理请求。
* 修复了一些问题。

## 2018.02.16 v3.9

* 新年快乐!
* 修复了一些问题。

## 2018.02.09 v3.7

* 开发者预览：[远程控制](../chapter_02/api.md)。
* 修复了一些问题。

## 2017.12.29 v3.5

* Geoip 支持名为“Private”的私有地址列表。

## 2017.12.22 v3.4

* Websocket 现在可以识别 X-Forwarded-For 并用做源地址。
* 支持 s390x 平台。

## 2017.12.08 v3.1

* 支持[本地策略](../chapter_02/policy.md)
* 支持从环境变量指定的路径加载配置文件

## 2017.12.01 v3.0

* 支持 Shadowsocks AEAD

## 2017.11.18 v2.50

* `v2ray` 现在会尝试使用 `v2ctl` 进行配置文件解析，请确保这两个文件在同一目录下；
* 路由中新增 `IPOnDemand` 策略进行同步 IP 解析；

## 2017.11.10 v2.47

* `geosite` 的数据现在放在 `geosite.dat` 文件中了。
* 一些修复。

## 2017.11.03 v2.46

* 路由中添加 `geosite:cn`，等效于现有的`chinasites`，但更加灵活。
* 路由中添加 `geoip`。
  * 安装包中新增了`geoip.dat`文件，包含所有`geoip`信息，此文件必须和`v2ray`程序放置于同一路径下。由于安装脚本未及时更新，服务器端和部分客户端可能需要手动复制此文件。
* 安装包中新增 `v2ctl` 程序，可使用命令`v2ctl verify /path/to/v2ray`来验证`v2ray`程序签名的有效性。

## 2017.10.27 v2.44

* HTTP 代理中加入了 Basic Authentication 支持。
* 修复了一些 bug。

## 2017.10.06 v2.40

* 修复了导致内存泄漏的问题。

## 2017.09.29 v2.39

* 当远程服务器关闭连接时，传入代理现在会尽快断开与客户端的连接。
* 默认连接超时时间更改为 5 分钟。

## 2017.05.12 v2.27

* 路由中新增了“域名”匹配选项。

## 2017.05.02 v2.26

* 各种稳定性修复。

## 2017.04.28 v2.25

* 可以简单地探测 HTTP 和 HTTPS 流量并根据其内容进行转发。

## 2017.04.21 v2.24

* 修复了 Mux 的稳定性问题。
* 提升了总体的内存使用效率。

## 2017.04.15 v2.23

* 提升了 Mux 的性能。
* Mux 中可以配置并发连接数了。
* 提升了 HTTP 代理的性能。
* 移除了 connectionReuse 的配置（由 Mux 替代）。

## 2017.04.08 v2.22

* Mux.Cool 协议

## 2017.02.25 v2.20

* 安装包中可执行文件附带了 gpg 签名。
* Windows 安装包中带了新的 wv2ray.exe，运行时不会出现任何界面。

## 2017.02.18 v2.19

* 服务器端强制开启防重放攻击（Anti replay attack）机制。
  * 不会影响任何现有客户端。
* VMess AES-128-GCM / Chacha20-Poly1305 / None 加密方式升级。
  * 如正在使用其中任何一个加密方式，请同时升级客户端和服务器。
  * AES-128-CFB 不受影响。
* 使用 Golang 1.8 编译，加入对 32 位 MIPS 的支持。

## 2017.02.11 v2.18

* 清理了 WebSocket 相关的代码。
* 移除了 allowPassive 设置。现在的行为相当于 allowPassive = true。
* Bug 修复。

## 2017.02.04 v2.17

* Bug 修复。

## 2017.01.28 v2.16

* Freedom 中可以指定一个重定向地址，将所有数据发往这个地址。此选项可用于适配 Shadowsocks Obfs 或 KCPTun 等工具。
* VMess 的“不加密”选项性能优化，与之前版本不兼容。
* 新年快乐！

## 2017.01.16 v2.15

* mKCP 和 WebSocket 现已适用于所有的传出（传入）协议。

## 2017.01.09 v2.14

* Socks 5 传出协议。
* mKCP 新增微信视频通话伪装。

## 2017.01.02 v2.13

* 修复了一些问题。

## 2016.12.26 v2.12

* 修复了一些问题。

## 2016.12.19 v2.11

* JSON 配置文件可以写注释了。

## 2016.12.12 v2.10

* VMess 中增加了 AES-GCM 和 Chacha20-Poly1305 加密方式；

## 2016.12.05 v2.9

* 修复了与 Alpine Linux 的兼容性；

## 2016.11.28 v2.8

* Shadowsocks 服务器端现接受 OTA 设置，可强制开启或关闭 OTA 验证；
* 小修小补；

## 2016.11.21 v2.7

* 现在可以给主传入传出连接设置标识了；
* 一些小修小补；

## 2016.11.14 v2.6

* 可将一个传出协议发出的数据转发至另一传出协议；
* 路由可根据传入协议的标识来进行判断了；

## 2016.11.07 v2.5

* 新增 Shadowsocks 传出协议；
* 新增 TCP 连接中的 HTTP 头部伪装；

## 2016.10.24 v2.4

* 每个传入传出协议可以配置各自的 TCP / mKCP / WebSocket 设置了；
* 路由现可以跟据来源 IP 进行转发；

## 2016.10.17 v2.3

* 重构了配置文件相关的代码，引入了基于 Protobuf 的新格式；
* 增加了 OpenBSD 的二进程文件；
* 小修小补；

## 2016.09.19 v2.2

* 新增了 WebSocket 的载体（感谢 [@xiaokangwang](https://github.com/xiaokangwang)）；

## 2016.09.19 v2.1

* mKCP 性能提升；

## 2016.08.20 v2.0

* 一周年

## 2016.08.15 v1.24

* mKCP 新增了 BT 数据包伪装。
* 传入连接现在可以设置 allowPassive 来允许被动连接，如 IMAP。

## 2016.08.08 v1.23

* 优化了 mKCP 数据包。此版本的 mKCP 与之前版本不兼容，请同时升级客户端和服务器。
* mKCP 现在可以经过配置，伪装成视频通话的数据。

## 2016.08.01 v1.22

* 修复了 mKCP 中一个内存泄漏问题；
* 新增了 FreeBSD 的支持；

## 2016.07.25 v1.21

* 提升了 ChaCha20 的性能（感谢 aead@）；
* 修复了一些问题；

## 2016.07.18 v1.20

* KCP 中新增了 readBufferSize 和 writeBufferSize 选项；
* 修复了一些问题；

## 2016.07.11 v1.19

* 新增了 [TLS 选项](../chapter_02/05_transport.md#分连接配置)，平台支持的所有协议都可以开启 TLS；
* 修复了 KCP 的性能问题；
* 修复了一个可能导致 KCP 中 EOF 响应的问题；

## 2016.07.04 v1.18

* 修复了 KCP 中连接多过的问题；
* 降低了 KCP 对 CPU 的使用；
* 修复了一些其它的问题；

## 2016.06.19 v1.17

* 整合了 KCP（感谢 [xiaokangwang](https://github.com/xiaokangwang)、[xtaci](https://github.com/xtaci)、[skywind3000](https://github.com/skywind3000)）
* 修复了一些小问题

## 2016.06.12 v1.16

* TCP 连接重用默认开启；
* Dokodemo-door 现在可以识别由 iptables 转发的数据了；
* Blackhole 可配置自动发送 HTTP 形式的拒绝数据；

## 2016.06.05 v1.15

* 增加了 TCP 连接重用选项，对于 HTTP 请求的性能有明显的提升；
* 支持监听指定的 IP 地址而非全部；
* 支持从指定的 IP 地址发出数据；
* 修复了 HTTP 代理中一个可能会导致内存耗尽的问题；

## 2016.05.29 v1.14

* 修复了 HTTP 代理中一个可能导致崩溃的问题；
* [安装脚本](../chapter_00/install.md)中增加了一些功能；
* [DNS](../chapter_02/04_dns.md) 中增加了静态路由功能；
* 官方服务器地址变动；

## 2016.05.16 v1.13

* 内置 DNS 服务，可搭配 chinasites 和 chinaip 进行更为精准的路由判断；
* 修复了一个 UDP 转发时的问题；

## 2016.05.01 v1.12.1

* 修复了 VMess 协议中的一个 bug。

## 2016.05.01 v1.12

* 再次尝试修复内存使用问题；
* 提升了 Shadowsocks 的性能；
* loglevel 增加了新的选项“none”表示不记录任何 log；

## 2016.04.18 v1.11

* 尝试修复内存使用问题。

## 2016.03.07 v1.10

* 修复了动态端口刷新时的性能问题。

## 2016.02.29 v1.9.1

* 修复了 Shadowsocks 中 OTA 的问题。

## 2016.02.29 v1.9

* Shadowsocks 支持了 ChaCha20 加密方式；
* 默认配置文件增加了更多的直连网站；
* 动态端口中现已可以自动创建帐号，无需事先指定；

## 2016.02.22 v1.8

* 更新了安装脚本 install-release.sh （感谢 netcookies@)：
  * 现在可以自动停止 V2Ray 进程，并在更新完成后自动运行 V2Ray；
  * install-release.sh 接受 --proxy 参数并从指定的代理下载 V2Ray；
* 使用 Go 1.6 编译，提升了 AES 加密的性能；
* 一些小修小补；
* 官方服务器 IP 更新，请重新下载安装包以获得最新的配置。

## 2016.02.08 v1.7

* 提升了 UDP 转发的性能；
* 提升了 Shadowsocks 的安全性；
* 修复了一些问题；
* 祝大家新年快乐！

## 2016.02.01 v1.6

* 服务器端支持 Shadowsocks；
  * [协议详情](../chapter_02/02_protocols.md#shadowsocks)

## 2016.01.25 v1.5

* 修复了一个 VMess 中的安全性问题，导致了 1.5 和之前版本不兼容，请同时升级你的客户端和服务器端；
* 修复了一个路由不能正常工作的问题；
* [动态端口](../chapter_03/00_dynport.md)；
* 略微提升了性能；

## 2016.01.18 v1.4

* 更新了[安装脚本](../chapter_00/install.md)，在 Debian / Ubuntu / CentOS 7 中可自动安装和更新 V2Ray；
* 修复了一个 VMess 的内存使用问题；

## 2016.01.11 v1.3

* Wiki 中更新了一些英语页面（感谢 chenxiaoqino）；
* Docker 配置文件（感谢 adoot）；
* HTTP 代理（感谢 adoot）；
* 路由中内置了常见的[国内网站域名](../chapter_02/03_routing.md)；
* VMess 配置中新增了 [alterId 选项](../chapter_02/02_protocols.md)；
* 修复了若干小问题；

## 2015.12.14 v1.2

* 简洁且高效的国内 IP 路由；
* 错误日志可写入文件；
* 路由中支持正则表达式方式的域名匹配；
* 修复了一个 SOCKS 协议的兼容性 bug；

## 2015.12.07 v1.1

* 修复了一个 VMess 协议的 bug，也导致了 1.1 和 1.0 的应用程序不兼容，配置文件不受影响；
* 修复了一个 InboundDetourHandler 中的 bug；

## 2015.11.30 v1.0

V2Ray 1.0 正式版，包含以下功能：

* Socks 4 / 5 代理协议；
* 可以防止重放攻击的高速中继协议；
* 静态路由功能，用户可选择性屏蔽或代理指定的 IP 段或域名；
